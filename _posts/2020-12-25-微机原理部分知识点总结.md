---
title: 微机原理部分知识点总结
date: 2020-12-25 21:29:00 +0800
categories: [微机原理与汇编语言]
tags: [微机原理]    # TAG names should always be lowercase
math: true
---

## 原码、反码和补码

原码：第一位是符号位，后面的所有位是数值  
N位原码表示范围：$-(2^{N-1} - 1) \sim +(2^{N-1} - 1)$

反码：正数的反码是其本身，负数的反码是其对应正数求反  
N位反码表示范围：$-(2^{N-1} - 1) \sim +(2^{N-1} - 1)$

补码：正数的补码是其本身，负数的补码是其对应正数求反再加1  
N位补码表示范围：$-2^{N-1} \sim +(2^{N-1} - 1)$

## 微机和微处理器的基本结构

微机的基本硬件构成：

* 运算器（ALU）
* 存储器（MEM）
* 输入输出设备（I/O）
* 总线（BUS）
* 控制器（CTRL）

微处理器（CPU）的主要组成部分：

* 算术逻辑单元（ALU）
* 控制器（CTRL）
* 寄存器阵列
* 总线和总线缓冲器

片内总线：微处理器内部的累加器、算术逻辑单元、各寄存器等都挂载在内部总线中。  
片外总线：CPU和外部部件之间传送信息的总线。（三总线结构：数据总线、地址总线、控制总线）

## 时钟

时钟周期：CPU操作的最小时间单位  
机器周期（总线周期）：由3~5个时钟周期组成，成为M周期。用来完成一个基本操作（如：存储器读/写；I/O读/写）。  
指令周期：一条汇编指令执行所需的时间成为指令周期，一条指令周期需1~5个机器周期。

### 总线周期

#### $T_1$：发送地址  

* $M/\overline{IO}$ 信号生效：指明存储器访问或I/O访问。
* 地址信息有效：地址/状态线 $A_{19}/S_6 \sim A_{16}/S_3$ 送出高4位地址，地址/数据线 $AD_{15} \sim AD_0$ 送出低 16 位地址。
* 地址锁存：在指令执行的过程中，地址信息必须在 $T_1$ 状态锁存起来。地址锁存使能ALE信号有效。ALE 为一个正向脉冲，在 ALE 的下降沿 8282 将地址信息锁存在 8282 中。
* $\overline{BHE}$ 信号同 20 位地址信号一同用地址锁存器进行锁存。
* $TD/\overline{R}$ 信号生效：用于控制 8286 双向总线驱动器接收或发送数据。

#### $T_2$：准备状态

* 地址信息结束，$AD_{15} \sim AD_0$ 进入高阻态，为读入数据做准备；$A_{19}/S_6 \sim A_{16}/S_3$ 及 $\overline{BHE}/S_7$ 上输出状态信息 $S_7 \sim S_3$ 。
* CPU输出读信号 $\overline{RD}$，$\overline{RD}$ 信号送到系统中所有的存储器和 I/O 接口芯片上，和地址线一起，打开地址信号对应的存储单元或 I/O 端口的三态门，将数据从存储单元或 I/O 端口中读出，送到系统的数据总线上。
* $\overline{DEN}$ 数据使能信号有效，总线收发器进入有效状态。

#### $T_3$：读/写数据

* 上升沿采样READY信号，若READY=0，则在后面插入 $T_w$ 周期，并在 $T_w$ 的上升沿继续采样 READY 信号。
* 若 READY=1 ，则在下降沿采样数据总线上的数据。

#### $T_4$：结束

* 总线周期结束状态
* 进入高阻状态

#### $T_w$：等待状态

* 数据读写未结束时，会在 $T_3$ 和 $T_4$ 之间插入 $T_w$ 等待。

## 编址方式

* 统一编址方式：存储器地址与 I/O 端口地址共用一个地址空间。访问存储器与访问 I/O 端口使用同类型的指令。
* 独立编址方式：存储器地址与 I/O 端口地址各有自己独立的地址空间。需要设置专门的输入/输出指令。
